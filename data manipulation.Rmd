---
title: "Data Manipulation"
output: github_document
---
```{r setup, echo = FALSE, message=FALSE}
 library(tidyverse)
```

This document will show how to *manipulating* data.

Import the two datasets that we're going to manipulate.

```{r, echo=TRUE}
 litters_df = 
   read_csv("data/FAS_litters.csv", na = c ("NA", "", "."))

 litters_df = janitor::clean_names(litters_df)
 
 pups_df = 
   read_csv("data/FAS_pups.csv", na = c ("NA", "", "."))
 
 pups_df = janitor::clean_names(pups_df)
```

tips: 

1. having space in variable is hard to read for R, it'll consider it as second variable.so, we use "janitor" function to clean the variable name, make it lower case.

2. using "view()" in rmd cause truble, so, it's better type "view()"in the console, to just read the whole dataset.


## 'select'

Use 'select()' to selsect variables

```{r}
 select(litters_df, group, litter_number, gd0_weight)
```

":" means from to
```{r}
 select(litters_df, group:gd18_weight)
```

remove sth
```{r}
 select(litters_df, -pups_survive)
```

remove sth from to
```{r}
 select(litters_df, -(group:gd18_weight))
```

select certain variables
```{r}
 select(litters_df, starts_with("gd"))

 select(litters_df, contains("pups"))
```

 rename sth, keep everything else same
 select sth, will show in order, keep everything else same
```{r}
 select(litters_df, GOURP = group)

 rename(litters_df, GOURP = group)
 
 select(litters_df, litter_number, gd0_weight, everything())
```

similar function "relocate"
```{r}
 relocate(litters_df, litter_number, gd0_weight)
```

learning assessment

```{r}
 select(pups_df, litter_number, sex, pd_ears)
```


## 'filter'

"=="means is this variable equals to xx
works well for numerical data
```{r}
 filter(litters_df, gd_of_birth == 20)

 filter(litters_df, gd_of_birth == 19)
```

```{r}
 filter(litters_df, pups_born_alive > 8)
 
 filter(litters_df, pups_born_alive >= 8)
```

```{r}
 filter(litters_df, pups_born_alive != 9)
```

let's look at character data
%n% variables in A or B
tips: character variables are case sensitive
```{r}
 filter(litters_df, group == "Con7")
 filter(litters_df, group == "Low8")
 
 filter(litters_df, group %in% c("Low7", "Low8"))
```

add additional requirements
```{r}
 filter(litters_df, group %in% c("Low7", "Low8"), pups_born_alive == 8)
```

use "drop" to remove missing value
```{r}
 drop_na(litters_df)

 drop_na(litters_df, gd0_weight)
```

learning assessment
```{r}
 filter(pups_df, sex == 1)

 filter(pups_df, pd_walk < 11, sex ==2)
```






## 'mutate'




## ‘arrange’
